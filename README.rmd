--
output: github_document
---
<!-- markdownlint-disable-file -->
<!-- README.md needs to be generated from README.Rmd. Please edit that file -->

# simIDM

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

<!-- <!-- badges: start -->
<!-- [![Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active) -->
<!-- [![CRAN status](https://www.r-pkg.org/badges/version-last-release/mmrm)](https://www.r-pkg.org/badges/version-last-release/mmrm) -->
<!-- [![CRAN monthly downloads](https://cranlogs.r-pkg.org/badges/mmrm)](https://cranlogs.r-pkg.org/badges/mmrm) -->
<!-- [![CRAN total downloads](https://cranlogs.r-pkg.org/badges/grand-total/mmrm)](https://cranlogs.r-pkg.org/badges/grand-total/mmrm) -->
<!-- [![Code Coverage](https://raw.githubusercontent.com/openpharma/mmrm/_xml_coverage_reports/data/main/badge.svg)](https://raw.githubusercontent.com/openpharma/mmrm/_xml_coverage_reports/data/main/coverage.xml) -->
<!-- <!-- badges: end -->

Survival multistate models are a powerful and flexible tool for modeling and analyzing complex time-to-event data.
The three-state illness-death model can be used to jointly model the oncology endpoints overall survival (OS) and
    progression-free survival (PFS). Jointly modeling the endpoints OS and PFS  with the illness-death model has the major advantage of both adequately accounting for the correlation of the two endpoints and eliminating the need of the strong assumption of proportional hazards. This package provides the tools to simulate a large number of clinical trials with endpoints OS and PFS based on the illness-death model, which can be used for trail planning, for example. The simulation set-up allows random and event-driven censoring, an arbitrary number of treatment
arms and staggered study entry. Exponentially distributed, Weibull distributed and piecewise exponentially distributed survival times can be generated.


**Scope:**

* Simulation of the illness-death model with constant, Weibull or piecewise constant transition hazards.
* Conversion of the transition times to OS and PFS survival times.

**Main Features:**

* Exponentially distributed, Weibull distributed and piecewise exponentially distributed survival times.
* Random censoring and event-driven censoring after a pre-specified number of OS or PFS events.
* Arbitrary number of treatment arms and flexible randomization ratio.
* Staggered study entry.
* Derivation of OS and PFS survival functions from transition hazards.

<!-- ## Installation -->

<!-- **CRAN** -->

<!-- You can install the current stable version from CRAN with: -->

<!-- ```{r cran-installation, eval = FALSE} -->
<!-- install.packages("mmrm") -->
<!-- ``` -->

<!-- **GitHub** -->

<!-- You can install the current development version from GitHub with: -->

<!-- ```{r gh-installation, eval = FALSE} -->
<!-- if (!require("remotes")) { -->
<!--   install.packages("remotes") -->
<!-- } -->
<!-- remotes::install_github("openpharma/mmrm") -->
<!-- ``` -->

## Getting Started

See also the `quickstart` vignette or get started by trying out the example:

```{r getting-started}
library(simIDM)
transitionGroup1 <- exponential_transition(h01 = 1.2, h02 = 1.5, h12 = 1.6)
transitionGroup2 <- exponential_transition(h01 = 1, h02 = 1.3, h12 = 1.7)


simStudies <- getClinicalTrials(
  nRep = 100, nPat = c(50, 50), seed = 1234, datType = "1rowPatient",
  transitionByArm = list(transitionGroup1, transitionGroup2), dropout = list(rate = 0.1, time = 12),
  accrual = list(param = "intensity", value = 12)
)
```

We get as output a list with `nRep` elements, each containing a data set of a single simulated trial.

```{r print}
head(simStudies[[1]])
```


<!-- ## Citing `mmrm` -->

<!-- To cite `mmrm` please see [here](https://openpharma.github.io/mmrm/main/authors.html#citation). -->
